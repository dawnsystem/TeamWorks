# Gu√≠a de Contribuci√≥n a TeamWorks

¬°Gracias por tu inter√©s en contribuir a TeamWorks! Esta gu√≠a te ayudar√° a comenzar.

---

## üìã Tabla de Contenidos

1. [C√≥digo de Conducta](#c√≥digo-de-conducta)
2. [¬øC√≥mo Puedo Contribuir?](#c√≥mo-puedo-contribuir)
3. [Configuraci√≥n del Entorno](#configuraci√≥n-del-entorno)
4. [Proceso de Desarrollo](#proceso-de-desarrollo)
5. [Est√°ndares de C√≥digo](#est√°ndares-de-c√≥digo)
6. [Proceso de Pull Request](#proceso-de-pull-request)
7. [Reportar Bugs](#reportar-bugs)
8. [Sugerir Mejoras](#sugerir-mejoras)

---

## üìú C√≥digo de Conducta

Este proyecto se adhiere a un c√≥digo de conducta. Al participar, se espera que mantengas un ambiente respetuoso y acogedor para todos. Ver [CODE_OF_CONDUCT.md](CODE_OF_CONDUCT.md).

---

## ü§ù ¬øC√≥mo Puedo Contribuir?

Hay muchas formas de contribuir a TeamWorks:

### 1. Reportar Bugs üêõ
- Usa la plantilla de issue para reportar bugs
- Incluye pasos detallados para reproducir
- A√±ade capturas de pantalla si es relevante
- Especifica tu entorno (OS, versi√≥n de Node, navegador)

### 2. Sugerir Mejoras üí°
- Abre un issue con la etiqueta "enhancement"
- Describe claramente la mejora propuesta
- Explica por qu√© ser√≠a √∫til
- Considera alternativas

### 3. Escribir C√≥digo üíª
- Corregir bugs reportados
- Implementar nuevas caracter√≠sticas
- Mejorar documentaci√≥n
- A√±adir tests

### 4. Mejorar Documentaci√≥n üìö
- Corregir errores en documentos
- A√±adir ejemplos
- Mejorar claridad
- Traducir contenido

### 5. Ayudar a Otros üôã
- Responder preguntas en issues
- Revisar pull requests
- Compartir conocimiento

---

## üîß Configuraci√≥n del Entorno

### Prerrequisitos

- Node.js 18+ y npm
- PostgreSQL 14+
- Git
- Editor de c√≥digo (recomendado: VS Code)

### Paso 1: Fork y Clonar

```bash
# Fork el repositorio en GitHub
# Luego clona tu fork
git clone https://github.com/TU_USUARIO/TeamWorks.git
cd TeamWorks

# A√±ade el upstream
git remote add upstream https://github.com/dawnsystem/TeamWorks.git
```

### Paso 2: Instalar Dependencias

```bash
# Backend
cd server
npm install

# Frontend
cd ../client
npm install
```

### Paso 3: Configurar Base de Datos

```bash
# Opci√≥n A: Docker
docker run --name teamworks-dev -e POSTGRES_PASSWORD=dev -p 5432:5432 -d postgres

# Opci√≥n B: PostgreSQL local
createdb teamworks_dev
```

### Paso 4: Variables de Entorno

```bash
# server/.env
DATABASE_URL="postgresql://postgres:dev@localhost:5432/teamworks_dev"
JWT_SECRET="dev-secret-key-change-in-production"
GROQ_API_KEY="tu-groq-api-key"
FRONTEND_URL="http://localhost:5173"

# client/.env
VITE_API_URL=http://localhost:3000/api
```

### Paso 5: Ejecutar Migraciones

```bash
cd server
npm run prisma:generate
npm run prisma:migrate
```

### Paso 6: Iniciar en Modo Desarrollo

```bash
# Terminal 1 - Backend
cd server && npm run dev

# Terminal 2 - Frontend
cd client && npm run dev
```

---

## üîÑ Proceso de Desarrollo

### 1. Crear una Rama

```bash
# Actualiza main
git checkout main
git pull upstream main

# Crea una rama descriptiva
git checkout -b feature/nombre-descriptivo
# o
git checkout -b fix/descripcion-del-bug
```

### 2. Hacer Cambios

- Escribe c√≥digo limpio y mantenible
- Sigue los est√°ndares de c√≥digo del proyecto
- A√±ade tests para nuevas funcionalidades
- Actualiza documentaci√≥n si es necesario

### 3. Commit Frecuentemente

```bash
git add .
git commit -m "tipo: descripci√≥n breve

Descripci√≥n m√°s detallada si es necesario.
Explica el por qu√©, no el qu√©."
```

**Tipos de Commit**:
- `feat`: Nueva funcionalidad
- `fix`: Correcci√≥n de bug
- `docs`: Cambios en documentaci√≥n
- `style`: Formato, punto y coma faltantes, etc.
- `refactor`: Refactorizaci√≥n de c√≥digo
- `test`: A√±adir tests
- `chore`: Tareas de mantenimiento

**Ejemplos**:
```bash
git commit -m "feat: a√±adir filtro de tareas por etiqueta

Implementa un nuevo endpoint GET /api/tasks/by-label/:labelId
que permite filtrar tareas por etiqueta espec√≠fica."

git commit -m "fix: corregir error al eliminar subtareas

El bug ocurr√≠a cuando se intentaba eliminar una subtarea
que ten√≠a subtareas anidadas."

git commit -m "docs: actualizar gu√≠a de instalaci√≥n

A√±ade instrucciones para usuarios de Windows."
```

### 4. Ejecutar Tests

```bash
# Backend
cd server
npm test
npm run build

# Frontend
cd client
npm test
npm run lint
npm run build
```

### 5. Push a tu Fork

```bash
git push origin feature/nombre-descriptivo
```

---

## üìè Est√°ndares de C√≥digo

### TypeScript

```typescript
// ‚úÖ Bien: Tipos expl√≠citos
interface TaskCreateInput {
  titulo: string;
  descripcion?: string;
  prioridad: 'P1' | 'P2' | 'P3' | 'P4';
  projectId: string;
}

function createTask(data: TaskCreateInput): Promise<Task> {
  // implementaci√≥n
}

// ‚ùå Evitar: Tipos any
function createTask(data: any): any {
  // implementaci√≥n
}
```

### Nombres Descriptivos

```typescript
// ‚úÖ Bien
const userAuthToken = generateAuthToken(user);
const isTaskCompleted = task.completada === true;

// ‚ùå Evitar
const uat = genToken(u);
const x = t.c === true;
```

### Funciones Peque√±as y Enfocadas

```typescript
// ‚úÖ Bien: Funci√≥n con responsabilidad √∫nica
function calculateTaskPriority(task: Task): number {
  const priorityMap = { P1: 4, P2: 3, P3: 2, P4: 1 };
  return priorityMap[task.prioridad] || 0;
}

// ‚ùå Evitar: Funci√≥n que hace demasiado
function processTask(task: Task) {
  // 100 l√≠neas de c√≥digo con m√∫ltiples responsabilidades
}
```

### Comentarios √ötiles

```typescript
// ‚úÖ Bien: Explica el "por qu√©"
// Usamos un timeout de 30s para operaciones de IA debido a
// que el modelo puede tardar en procesar comandos complejos
const AI_TIMEOUT = 30000;

// ‚ùå Evitar: Explica el "qu√©" (obvio del c√≥digo)
// Incrementa i en 1
i++;
```

### Manejo de Errores

```typescript
// ‚úÖ Bien: Manejo espec√≠fico de errores
try {
  await prisma.task.create(data);
} catch (error) {
  if (error instanceof Prisma.PrismaClientKnownRequestError) {
    if (error.code === 'P2002') {
      throw new Error('Ya existe una tarea con ese nombre');
    }
  }
  throw new Error('Error al crear tarea');
}

// ‚ùå Evitar: Catch silencioso
try {
  await prisma.task.create(data);
} catch (error) {
  // No hace nada
}
```

### ESLint y Prettier

El proyecto usa ESLint y Prettier. Aseg√∫rate de que tu c√≥digo pasa:

```bash
# Frontend
cd client
npm run lint
```

---

## üîÄ Proceso de Pull Request

### 1. Antes de Abrir el PR

- ‚úÖ Todos los tests pasan
- ‚úÖ El c√≥digo compila sin errores
- ‚úÖ Has actualizado la documentaci√≥n
- ‚úÖ Has a√±adido tests si corresponde
- ‚úÖ Tu rama est√° actualizada con main

```bash
# Actualizar tu rama con main
git checkout main
git pull upstream main
git checkout feature/tu-rama
git rebase main
```

### 2. Abrir el Pull Request

1. Ve a tu fork en GitHub
2. Haz clic en "Pull Request"
3. Completa la plantilla de PR:

```markdown
## Descripci√≥n
Breve descripci√≥n de los cambios.

## Tipo de Cambio
- [ ] Bug fix
- [ ] Nueva funcionalidad
- [ ] Breaking change
- [ ] Documentaci√≥n

## ¬øC√≥mo se ha probado?
Describe c√≥mo has probado los cambios.

## Checklist
- [ ] Mi c√≥digo sigue los est√°ndares del proyecto
- [ ] He realizado una auto-revisi√≥n de mi c√≥digo
- [ ] He comentado c√≥digo complejo
- [ ] He actualizado la documentaci√≥n
- [ ] No hay warnings en consola
- [ ] He a√±adido tests que prueban mi cambio
- [ ] Todos los tests existentes pasan
```

### 3. Revisi√≥n de C√≥digo

- Responde a los comentarios de forma constructiva
- Realiza los cambios solicitados
- Actualiza tu PR con los cambios

```bash
# Hacer cambios solicitados
git add .
git commit -m "fix: aplicar sugerencias de revisi√≥n"
git push origin feature/tu-rama
```

### 4. Merge

Una vez aprobado:
- El maintainer har√° merge de tu PR
- Puedes eliminar tu rama despu√©s del merge

```bash
git checkout main
git pull upstream main
git branch -d feature/tu-rama
```

---

## üêõ Reportar Bugs

### Plantilla de Bug Report

```markdown
**Descripci√≥n del Bug**
Descripci√≥n clara y concisa del bug.

**Para Reproducir**
Pasos para reproducir:
1. Ve a '...'
2. Haz clic en '...'
3. Scroll hasta '...'
4. Ver error

**Comportamiento Esperado**
Qu√© esperabas que sucediera.

**Capturas de Pantalla**
Si aplica, a√±ade capturas que ayuden a explicar el problema.

**Entorno**
- OS: [ej. Windows 10, macOS 13, Ubuntu 22.04]
- Navegador: [ej. Chrome 120, Firefox 121]
- Node.js: [ej. v18.17.0]
- Version: [ej. 1.0.0]

**Informaci√≥n Adicional**
Cualquier otro contexto sobre el problema.
```

### Antes de Reportar

1. **Busca issues existentes** para evitar duplicados
2. **Intenta reproducir** en un entorno limpio
3. **Verifica la versi√≥n** - puede estar corregido en la √∫ltima versi√≥n
4. **Revisa la documentaci√≥n** por si es un problema de configuraci√≥n

---

## üí° Sugerir Mejoras

### Plantilla de Feature Request

```markdown
**¬øTu solicitud est√° relacionada con un problema?**
Descripci√≥n clara del problema. Ej: "Siempre me frustro cuando [...]"

**Describe la soluci√≥n que te gustar√≠a**
Descripci√≥n clara de qu√© quieres que suceda.

**Describe alternativas que hayas considerado**
Otras soluciones o caracter√≠sticas que hayas considerado.

**Contexto Adicional**
Cualquier otro contexto, capturas de pantalla, etc.
```

---

## üìö Recursos para Contribuidores

### Documentaci√≥n del Proyecto
- [README.md](README.md) - Visi√≥n general
- [SETUP.md](SETUP.md) - Gu√≠a de instalaci√≥n
- [DEVELOPER_GUIDE.md](DEVELOPER_GUIDE.md) - Gu√≠a para desarrolladores
- [TESTING.md](TESTING.md) - Gu√≠a de testing
- [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) - Arquitectura

### Tecnolog√≠as
- [TypeScript](https://www.typescriptlang.org/)
- [Node.js](https://nodejs.org/)
- [React](https://react.dev/)
- [Prisma](https://www.prisma.io/)
- [Express](https://expressjs.com/)
- [TailwindCSS](https://tailwindcss.com/)

### Herramientas Recomendadas
- [VS Code](https://code.visualstudio.com/) con extensiones:
  - ESLint
  - Prettier
  - Prisma
  - TypeScript and JavaScript Language Features
- [Postman](https://www.postman.com/) o [Insomnia](https://insomnia.rest/) para testing de API
- [Prisma Studio](https://www.prisma.io/studio) para inspecci√≥n de BD

---

## üéØ √Åreas que Necesitan Ayuda

Siempre buscamos ayuda en:

- üß™ **Testing**: A√±adir m√°s tests unitarios y de integraci√≥n
- üìö **Documentaci√≥n**: Mejorar gu√≠as, a√±adir ejemplos
- üåê **Internacionalizaci√≥n**: Soporte multiidioma
- üé® **UI/UX**: Mejoras de interfaz y experiencia
- ü§ñ **Sistema de IA**: Mejorar interpretaci√≥n de comandos
- ‚ö° **Performance**: Optimizaciones de rendimiento
- üîí **Seguridad**: Auditor√≠as y mejoras de seguridad

---

## ‚ùì Preguntas

Si tienes preguntas sobre c√≥mo contribuir:

1. Revisa esta gu√≠a y la documentaci√≥n
2. Busca en issues cerrados por si ya fue respondida
3. Abre un nuevo issue con la etiqueta "question"
4. S√© espec√≠fico y proporciona contexto

---

## üôè Reconocimientos

Todos los contribuidores ser√°n reconocidos en el README.md del proyecto.

---

**¬°Gracias por contribuir a TeamWorks!** üöÄ

Tu ayuda hace que este proyecto sea mejor para todos.

---

**Mantenido por**: Equipo de Desarrollo TeamWorks  
**√öltima Actualizaci√≥n**: 17 de Octubre de 2025
